language: php
php:
  - 5.4
  - 5.5
  - 5.6
  - 7.0
services:
  - mysql
  - postgresql
env:
  - DB=mysql
  - DB=postgresql
  - DB=sqlite
install:
  - composer install
  - mv config/config.travis.php config/config.php
before_script:
  - mysql -e 'create database app_test;'
  - psql -c 'create database app_test' -U postgres
script: php tests/test.php
matrix:
  allow_failures:
    - php: 5.4
    - env: DB=sqlite
